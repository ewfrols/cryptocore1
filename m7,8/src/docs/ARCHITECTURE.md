
    ┌─────────────────────────────────────────────────────────────┐
    │                     CRYPTOCORE ARCHITECTURE                 │
    └─────────────────────────────────────────────────────────────┘

    ┌─────────────┐     ┌─────────────┐      ┌─────────────┐
    │    main     │─────│  cli_parser │──────│   file_io   │
    │   (core)    │     │   (core)    │      │   (core)    │
    └──────┬──────┘     └─────────────┘      └──────┬──────┘
           │                                        │
           ▼                                        ▼
    ┌─────────────────────────────────────────────────────────────┐
    │                    МОДЫ ШИФРОВАНИЯ (modes)                  │
    ├─────────────┬─────────────┬─────────────┬─────────────┬─────┤
    │    ecb      │    cbc      │    ctr      │    gcm      │ ... │
    │   (base)    │   (uses)    │   (uses)    │  (uses CTR) │     │
    └─────────────┴─────────────┴─────────────┴─────────────┴─────┘
           ▲             ▲             ▲             ▲
           │             │             │             │
    ┌─────────────────────────────────────────────────────────────┐
    │                     ХЭШ-ФУНКЦИИ (hash)                      │
    ├─────────────────────┬─────────────────────┬─────────────────┤
    │      sha256.py      │    sha3_256.py      │    ...          │
    │   (uses hashlib)    │   (uses hashlib)    │                 │
    └─────────────────────┴─────────────────────┴─────────────────┘
           ▲             ▲                             ▲
           │             │                             │
    ┌─────────────────────────────────────────────────────────────┐
    │                  KDF & MAC ФУНКЦИИ                          │
    ├─────────────┬─────────────┬─────────────┬───────────────────┤
    │   hkdf.py   │  pbkdf2.py  │   hmac.py   │    ...            │
    │ (uses hash) │ (uses hash) │ (uses hash) │                   │
    └─────────────┴─────────────┴─────────────┴───────────────────┘
           ▲             ▲             ▲
           │             │             │
    ┌─────────────────────────────────────────────────────────────┐
    │                     ТЕСТЫ (tests)                           │
    ├─────────────┬─────────────┬─────────────┬───────────────────┤
    │test_memory  │test_hash    │test_kdf     │    ...            │
    │ _safety.py  │ _func.py    │ .py         │                   │
    └─────────────┴─────────────┴─────────────┴───────────────────┘

    ┌─────────────────────────────────────────────────────────────┐
    │                 ВНЕШНИЕ ЗАВИСИМОСТИ                         │
    ├─────────────┬─────────────┬─────────────┬───────────────────┤
    │   hashlib   │   secrets   │     os      │       sys         │
    │  (external) │  (external) │  (external) │    (external)     │
    └─────────────┴─────────────┴─────────────┴───────────────────┘

    ────▶   Внутренняя зависимость (сплошная линия)
    - - ▶   Внешняя зависимость (пунктирная линия)
    □       Модуль/функция
    ⬢       Тест
    ◆       Внешняя библиотека
    
    1. main.py является центральным координатором
    2. Все режимы шифрования зависят от main.py и file_io.py
    3. ecb является базовым режимом, который используют другие
    4. Хэш-функции используют внешнюю библиотеку hashlib
    5. KDF/MAC функции используют хэш-функции
    6. Тесты проверяют все основные компоненты
    7. Внешние зависимости показаны внизу диаграммы